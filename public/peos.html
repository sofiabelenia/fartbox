<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fart Board 3x3</title>
    <!-- Tailwind CSS para estilos r치pidos y bonitos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Animaciones personalizadas */
        @keyframes pop {
            0% { transform: scale(0.95); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .btn-active {
            animation: pop 0.1s ease-out;
            filter: brightness(1.3);
            box-shadow: 0 0 15px currentColor;
        }

        /* Prevenir selecci칩n de texto en m칩viles al tocar r치pido */
        .no-select {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            background: linear-gradient(135deg, #1a1c2c 0%, #4a192c 100%);
        }
    </style>
</head>
<body class="h-screen w-full flex flex-col items-center justify-center text-white overflow-hidden no-select">

    <div class="text-center mb-6">
        <h1 class="text-3xl md:text-5xl font-bold mb-2 tracking-wider">FART BOX 3x3</h1>
        <p class="text-gray-300 text-sm md:text-base">Toca los botones para crear farts 칠picos</p>
    </div>

    <!-- Contenedor de la Grilla -->
    <div id="grid-container" class="grid grid-cols-3 gap-3 md:gap-6 p-4 bg-white/10 rounded-2xl backdrop-blur-sm shadow-2xl border border-white/20">
        <!-- Los botones se generar치n aqu칤 con JavaScript -->
    </div>

    <div class="mt-8 text-center px-4">
        <p class="text-xs text-gray-400">Consejo: 춰Intenta presionar varios farts a la vez!</p>
    </div>

    <script>
        // Configuraci칩n de los 9 botones con archivos de sonido de la carpeta peos
        const soundConfig = [
            { id: 1, color: 'bg-red-500',    icon: '游눧', sound: 'peos/big-fart-raspberry-sound-effect-140919.mp3', label: 'Big Fart' },
            { id: 2, color: 'bg-orange-500', icon: '游눧', sound: 'peos/fart-4-228244.mp3', label: 'Fart 4' },
            { id: 3, color: 'bg-yellow-500', icon: '游눧', sound: 'peos/fart-5-228245.mp3', label: 'Fart 5' },
            { id: 4, color: 'bg-amber-600',  icon: '游눧', sound: 'peos/fart-8-228248.mp3', label: 'Fart 8' },
            { id: 5, color: 'bg-emerald-500',icon: '游눧', sound: 'peos/fart-sound-effect-16-11093.mp3', label: 'Fart 16' },
            { id: 6, color: 'bg-teal-500',   icon: '游눧', sound: 'peos/furtz22-198542.mp3', label: 'Furtz' },
            { id: 7, color: 'bg-blue-500',   icon: '游눧', sound: 'peos/wet-fart-6139.mp3', label: 'Wet Fart' },
            { id: 8, color: 'bg-indigo-500', icon: '游꿧', sound: 'peos/intro.mp3', label: 'Intro' },
            { id: 9, color: 'bg-purple-500', icon: '游눧', sound: 'peos/big-fart-raspberry-sound-effect-140919.mp3', label: 'Raspberry' }
        ];

        // Objeto para almacenar los elementos de Audio pre-cargados
        const audioElements = {};

        // Pre-cargar todos los sonidos
        soundConfig.forEach(btn => {
            audioElements[btn.id] = new Audio(btn.sound);
            audioElements[btn.id].preload = 'auto';
        });

        // Funci칩n para reproducir sonido
        function playSound(config) {
            const audio = audioElements[config.id];

            // Reiniciar el audio si ya se est치 reproduciendo
            audio.currentTime = 0;

            // Reproducir el sonido
            audio.play().catch(err => {
                console.log('Error al reproducir:', err);
            });
        }

        // Generar la interfaz
        const gridContainer = document.getElementById('grid-container');

        soundConfig.forEach(btn => {
            const button = document.createElement('button');
            
            // Clases de Tailwind para estilo
            button.className = `
                ${btn.color} 
                w-20 h-20 md:w-32 md:h-32 
                rounded-xl shadow-lg 
                flex flex-col items-center justify-center 
                text-2xl md:text-4xl 
                transition-all duration-100
                border-b-4 border-black/20
                active:border-b-0 active:translate-y-1
                hover:brightness-110
            `;
            
            button.innerHTML = `
                <span>${btn.icon}</span>
                <span class="text-xs md:text-sm font-bold text-white/90 mt-1">${btn.label}</span>
            `;

            // Manejador de eventos
            const triggerSound = (e) => {
                e.preventDefault();
                
                // Efecto visual
                button.classList.add('btn-active');
                setTimeout(() => button.classList.remove('btn-active'), 100);

                // Sonido
                playSound(btn);
            };

            // Usamos 'pointerdown' para mejor respuesta en todos los dispositivos
            button.addEventListener('pointerdown', triggerSound);

            gridContainer.appendChild(button);
        });

        // Reproducir intro.mp3 autom치ticamente al cargar la p치gina
        window.addEventListener('load', () => {
            const introAudio = new Audio('peos/intro.mp3');
            introAudio.play().catch(err => {
                // Si el navegador bloquea la reproducci칩n autom치tica,
                // esperamos a la primera interacci칩n del usuario
                console.log('Reproducci칩n autom치tica bloqueada. Esperando interacci칩n del usuario...');
                document.body.addEventListener('click', () => {
                    introAudio.play();
                }, { once: true });
            });
        });

    </script>
<script src="/game-wrapper.js"></script>
</body>
</html>